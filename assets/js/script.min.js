$(() => {
	const proxyUrl = "https://cors-anywhere.herokuapp.com/",
	links = ["https://insult.mattbas.org/api/insult.json?who=" + encodeURI(user)];

	$("#insult").hide()
	
	$("button#generate").on("click", async t => {
		$("button#generate").prop("disabled", !0)
		await fetch(proxyUrl + links[0])
			.then(t => t.json())
			.then(t => 
				$("#insult")
					.show(500)
					.html(t.insult  + ".")
			)
		
		$("button#generate").prop("disabled", !1)
    })
});